<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta credits="ENOS16 Palette (chosen as palette of the day May 5th, 2025) https://lospec.com/palette-list/enos16">
    <title>Date^2</title>
    <link rel="icon" href="Small Logo.png" type="image/png">
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <div style="text-align:center">
        <img src="Big Logo.gif" style="width: 100%;">
    </div>
    <br>
    <div id="main">
        <p>Today's Awesome Sick Cool Date:</p>  
        <p id="date" style="color:#ffffff; margin-top: -20px;"></p>
        <p id="state" style="font-size: 50px;"></p>
    </div>
    <br>

    <u><H1>"The Cooler Square Day"</H1></u>
    <p>Any day where the month, the day and the year <br> are all perfect squares.</p>
    <p style="font-size:large">E.G September 25th, 2025 [9/25/2025]</p>
    
    <audio id="yayAudio" src="yay.wav" preload="auto"></audio>

    <script>
        let hasPlayed = false; // Track if the audio has already played

        function fetchState() {
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth() + 1; // Months are 0-indexed
            const day = today.getDate();

            // Check if each is a perfect square
            const isSquare = n => Number.isInteger(Math.sqrt(n));
            const isSquareDay = isSquare(year) && isSquare(month) && isSquare(day);

            document.getElementById('date').textContent = `${month}/${day}/${year}`;
            document.getElementById('state').textContent = isSquareDay ? "Today is a Square Day!" : "Today is not a Square Day.";

            if (isSquareDay) {
                document.body.classList.add('strobe');
                document.getElementById('state').classList.add('special')
            } else {
                document.body.classList.remove('strobe');
            }
            // Play audio only once and handle autoplay restrictions
            if (isSquareDay && !hasPlayed) {
                const audio = document.getElementById('yayAudio');
                audio.play()
                    .then(() => {
                        hasPlayed = true; // Mark as played after successful playback
                    })
                    .catch((error) => {
                        console.warn("Audio autoplay prevented by browser. Allow user interaction to enable sound:", error);
                    });
            }
        }

        // Initial fetch of the state on page load
        fetchState();

        // Periodically check the state every 5 seconds
        setInterval(fetchState, 5000);
    </script>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <!--all this fire and im still freezing-->
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <a href="extras.html" id="normal">only for real fucking awesome square heads do NOT click if you arent a real FUCKING SQUARE</a>
</body>
</html>
